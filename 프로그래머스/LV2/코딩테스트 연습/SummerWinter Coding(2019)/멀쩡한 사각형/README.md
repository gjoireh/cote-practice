가로 w, 세로 h인 [[0,0], [0,h], [w,h], [w,0]] 의 직사각형을 생각할때  
[0,0], [w,h]를 지나는 대각선을 y=ax, (a = h/w)라고 하면  
이 대각선은 y축으로는 총 h칸, x축으로는 총 w칸을 지나간다  

그런데 대각선이 0,0에서 시작하여 x축으로 기약분수 a의 분모만큼, y축으로 기약분수 a의 분자만큼씩 증가하면서  
'y축으로 기약분수 a의 분자칸만큼 지났다, x축으로 기약분수 a의 분모칸만큼 지났다' 라고 하면 0,0 처음 칸은 중복해서 센 것이다  

그리고 이 과정은  
(w / 기약분수 a의 분모값)번 만큼 반복할 것이다 (또는 (h / 기약분수 a의 분자값)번만큼)  
그러므로 중복은 (w / 기약분수 a의 분모값) 만큼 발생한다고 할 수 있다  

기약분수 a의 분모 또는 분자 값은 w와 h를 w와 h의 gcd로 각각 나눠서 알 수 있다   

그래서 정답은 w\*h - (w+h - w/(기약분수 a의 분모값)) 또는 w*h - (w+h - h/(기약분수 a의 분자값)) 이고  
여기서 기약분수 a의 분모, 분자값은 w/gcd(w,h), h/(gcd(w,h)) 이다    

그래서 w\*h - (w+h - w/(w/gcd(w,h))) 또는 w\*h - (w+h - h/(h/(gcd(w,h))) 이고  
이것은 최종적으로 w\*h - (w+h - gcd(w*h)) 이다  